(function(){let e=document.createElement(`link`).relList;if(e&&e.supports&&e.supports(`modulepreload`))return;for(let e of document.querySelectorAll(`link[rel="modulepreload"]`))n(e);new MutationObserver(e=>{for(let t of e)if(t.type===`childList`)for(let e of t.addedNodes)e.tagName===`LINK`&&e.rel===`modulepreload`&&n(e)}).observe(document,{childList:!0,subtree:!0});function t(e){let t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin===`use-credentials`?t.credentials=`include`:e.crossOrigin===`anonymous`?t.credentials=`omit`:t.credentials=`same-origin`,t}function n(e){if(e.ep)return;e.ep=!0;let n=t(e);fetch(e.href,n)}})();var e=document.getElementById(`inp-title`),t=document.getElementById(`inp-category`),n=document.getElementById(`inp-image`),r=document.getElementById(`btn-submit`),i=document.getElementById(`cb-clear`),a=document.getElementById(`counter`),o=document.getElementById(`cards`),s=document.getElementById(`inp-search`),c=document.getElementById(`modal-container`),l=document.getElementById(`modal-title`),u=document.getElementById(`modal-desc`),d=document.getElementById(`modal-card-title`),f=document.getElementById(`modal-card-img`),p=document.getElementById(`btn-fav`),m=document.getElementById(`btn-delete`),h=document.getElementById(`btn-fav`),g=document.getElementById(`btn-theme`),_=document.getElementsByTagName(`body`)[0],v=null,y=new Map;function b(e,t){for(let n=0;n<e.length;n++)t(e.item(n))}function x(e,t,n,r=!1){return{title:e,url:t,category:n,fav:r}}function S(e){let t=document.createElement(`div`);return t.classList.add(`card-category`),t.innerText=e,t}function C(e){let t=document.createElement(`div`);t.classList.add(`card`);let n=document.createElement(`img`);n.src=e.url,n.height=200,t.appendChild(n);let r=document.createElement(`div`);return r.classList.add(`card-title`),r.innerText=(e.fav?`☆ `:``)+e.title,t.appendChild(r),t.addEventListener(`click`,()=>{v=e,A()}),t}function w(e){let t=document.createElement(`table`),n=null;for(let r=0;r<e.length;r++){let i=document.createElement(`td`);i.appendChild(e[r]),n||=document.createElement(`tr`),n.appendChild(i),r%3==2&&(t.appendChild(n),n=null)}return n!==null&&t.appendChild(n),t}function T(){o.innerHTML=``;let e=s.value;if(y.size>0&&(s.style.display=`initial`),e===``){let e=[];if(y.forEach(t=>{t.forEach(t=>{t.fav&&e.push(t)})}),e.length!==0){o.append(S(`Избранное`));let t=e.map(C);o.append(w(t))}}let t=0;y.forEach((n,r)=>{t+=n.length;let i;if(i=e===``?n:n.filter(t=>t.title.includes(e)),i.length==0)return;o.append(S(r));let a=i.map(C);o.append(w(a))}),a.textContent=t.toString()+` котов!`}function E(){let r=[];if(e.value===``&&r.push(`<li>Название не указано</li>`),t.value===``&&r.push(`<li>Категория не указана</li>`),n.value===``&&r.push(`<li>Ссылка не указана</li>`),r.length!==0){k(`Ошибка`,`Форма заполнена неправильно<ul>`+r.join(``)+`</ul>`);return}let a=e.value,o=t.value,s=n.value,c=x(a,s,o);y.has(o)?y.get(o).push(c):y.set(o,[c]),T(),i.checked&&(e.value=``,t.value=``,n.value=``)}function D(e){b(c.children,t=>{t.tagName===`DIV`&&(t.style.display=e===t.id?`block`:`none`)}),c.style=``,c.style.display=`flex`}function O(){c.style.display=`none`,T()}function k(e,t){D(`modal-msg`),l.innerHTML=e,u.innerHTML=t}function A(){D(`modal-card`);let e=v;d.innerText=e.title,f.src=e.url,p.innerText=e.fav?`Удалить из избранного`:`В избранное`}function j(){let e=v,t=y.get(e.category),n=t.indexOf(e);n===-1?alert(`wtd`):t.splice(n,1),O()}function M(){let e=v;e.fav=!e.fav,A()}function N(){g.textContent===`☀︎`?(_.style=`color: white; background-color: black; background-image: none`,g.textContent=`☾`):(_.style=``,g.textContent=`☀︎`)}g.addEventListener(`click`,N),r.addEventListener(`click`,E),s.addEventListener(`input`,T),b(document.getElementsByClassName(`btn-close`),e=>{e.addEventListener(`click`,O)}),m.addEventListener(`click`,j),h.addEventListener(`click`,M);